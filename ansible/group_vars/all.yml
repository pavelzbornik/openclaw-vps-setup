---
# Global variables for all hosts

# System Configuration
timezone: "UTC"
locale: "en_US.UTF-8"

# ─── Upstream-aligned variables ──────────────────────────────────────
# These match upstream openclaw-ansible defaults/main.yml.
# Only override when your deployment needs differ from upstream defaults.

openclaw_user: openclaw
openclaw_home: "/home/{{ openclaw_user }}"
openclaw_config_dir: "{{ openclaw_home }}/.openclaw"
openclaw_port: 3000

# Node.js version (upstream default: 22.x)
nodejs_version: "22.x"

# Installation mode: 'release' (pnpm install -g) or 'development' (git clone)
openclaw_install_mode: "release"

# SSH keys for the openclaw user (upstream variable)
# openclaw_ssh_keys:
#   - "ssh-ed25519 AAAA... user@host"
openclaw_ssh_keys: []

# ─── Vendor base controls ───────────────────────────────────────────
# These drive the openclaw_vendor_base role which reuses upstream task files.
vendor_system_tools_enabled: true
vendor_user_enabled: true
vendor_nodejs_enabled: true
vendor_tailscale_enabled: true
vendor_docker_enabled: true
vendor_firewall_enabled: true
vendor_openclaw_install_enabled: true

# Tailscale (upstream variable — set to true to install)
tailscale_enabled: true
# tailscale_authkey: "tskey-auth-xxxxx"

# CI test mode — skips systemd/Docker tasks (upstream variable)
ci_test: false

# ─── Local extensions (not in upstream) ──────────────────────────────

# Extra packages not covered by upstream system-tools
extra_packages:
  - python3-pip
  - acl

# OpenClaw onboarding behavior
openclaw_onboard_install_daemon: false
openclaw_run_doctor: false

# 1Password Configuration
onepassword_cli_version: "latest"
onepassword_cli_deb_url: "https://downloads.1password.com/linux/debian/amd64/stable/1password-cli-amd64-latest.deb"

# OpenClaw Configuration Template Variables (for unattended deploys)
openclaw_config:
  agent:
    model: "anthropic/claude-opus-4"
  gateway:
    bind: "0.0.0.0"
    port: "{{ openclaw_port }}"
    auth:
      mode: "token"
      token: "{{ lookup('env', 'OPENCLAW_GATEWAY_TOKEN') | default('change-me-in-production', true) }}"
  channels:
    telegram:
      enabled: false
      dmPolicy: "pairing"
    discord:
      enabled: false
      dmPolicy: "pairing"
  models:
    providers:
      anthropic: {}
      openai: {}

# Environment Variables for OpenClaw Service
openclaw_env_vars:
  NODE_ENV: "production"

# Git sync / migration configuration
openclaw_git_sync_enabled: true
openclaw_git_timer_enabled: true
openclaw_migration_mode: false
openclaw_config_repo: "https://github.com/pavelzbornik/openclaw-config"
openclaw_config_repo_dest: "{{ openclaw_home }}/openclaw-config"
openclaw_git_tmp_dir: "/tmp/openclaw-config"

# 1Password-backed GitHub token settings
openclaw_op_service_account_token: "{{ lookup('env', 'OP_SERVICE_ACCOUNT_TOKEN') | default('', true) }}"
openclaw_github_token_vault: "OpenClaw-Secrets"
openclaw_github_token_item: "GitHub"
openclaw_github_token_field: "token"
